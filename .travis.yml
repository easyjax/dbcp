# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: dH50kisfbmrAivHliMgJdz33xE3pie7x1ptbxcZsx03r1xMxyr/EHG/DPhBjoF9NixKlt6mpdwWEAI3Gmbx6UwwuhA1w8Gx5UzPfqStemp1tyNH/hUKeOOxJdZFUsj1sK35y3/dcnB9PHEnTYE+pf4P4C50Xh+fxGR24ie1u5nyHxwyEDnaWOA7yInhSVMpA59FQTsUdiJQKewrQikMH8daLOLv5Z/YuQllnMd8wjTds1fMm5NNiUPQj1yFxQWRnUai0qUtEIEPC0T7QQUaXYTXHqiMsYaOxSk9uYAwUsHcSfORZBf4XjomRktJetjDw7wKZrVcL4DYBbFgNQE3/Yq6vYd5ry72G2zQLt7GLzGO42xswmAMpmeD1Zl4uQgXZAGL5TDNReWsPVpytfIpWIfQaJTm0hlQq5frkM0/JGhfCkn7yPgc87vT2BxCtH6GAo4GitZp2Z5sJQY9zh8TWehMEFfPPcNAmsIz2Xw/x6+vjo9P6hRSAzAqlSYXSuCa0gahxQ3IEDupsZeGebzOm2JaK5I+m1X+iphKWGgvjHZuCe1qZ91BjUWikneXgDFFyMVKRIdsl5Kj1JCLDssT5wZPxsJVkCTJmWHfmDshsis9arfrrJeaF2XwZ54Y9p/k4vgrFhooIe+4/+NtlScGu+Tyay6NDP3MVwnxSu+p3nCY=
  - secure: BSg0mdOkZx/4yub1x2l6O6MM7OUKPwdstvyPG/IqshGFzklyjamcBez0URqDLJHs/Ic2o5s8WgWSOc459jcuCe5bZv4vYwsbGRdyKEKpi2GqYpKMJTsccGCHTh4ixuMZo5sL4XSymGkQpQa2jR75DoTEkpb6Mk6+6yYsQKlsQ0kXTz7SsIl2F//HZJW0F7RNoImNx8ARakkCH5oklGf3Dji1PRk0ak4tW2muGeQLWzpjONaETzWYSkTvDdY41b1FQXjbJCYAQXoDPPHfWmIvB3Ef0ExjzJ2appqe2gBzWj5Yv+7Ry5gWP8TPJoUjDhNs/CMykp2JK7QAzncPDb2pXGo9VxiyUSmAZ5RPhFBg4T5OxLSfBJEIT7wBXAQzJSB6RBWZTl4kUEQJ2Pj4A7aEp7WNBEgwz0T+jDyIfjOlUjCtLnjJ8K5DffPzlFInxukQnAamHGlsne/EK3jN5SmU/Whld6cKjCyQjKKVlSY9lF6ppEQwWNe3jPrzMV3M6EYyF/MwO4WjMyNDC4xR7NMRTztqXalpauajNkQdV2gFP+jc1nBc4fl7lU3fNFCPxHPv+UzHqGQ8m7xaJ29YXnguV53Pj3MMuqJYpi5WgvJBj+7NG30O8mcySWrAriFCWOi/QK6QGnUQ3PUW+AlEot5Ys91C3O70Q86/0yfeJQE2IFI=
  - secure: Mkmy+4jgnC4gAEcteahXFgOEw/ETrofJ+YR7vjn9zz5fxxoEqnqixlaODQokJSvE+kyouUDoiIkZ6a5EYGNMwrIc6gCmc4Y5RyXxdpV6lUOzleDsjhp69UhOJ0yzhWBX1OJyHvT3OSHh00lo7cigNk+O82wvaq1WaEmpr3TupZe8Fw2DJGahG/Gc2np5WmuWVhd6zmOKoZVzxWGyQrMw8GQ4+dswrCzuxiTH3Y2Vu2KBL4bsVyyPBRxaXm6+T3HmAMADvU+2WY30xKwQArw4yUtNHJx67s2zkoN3pe40BOE9Gpjjx2OL19AzPUeUmcF1OhLUrMWIHswLp2CkCp5ZUVGNJNqmPgPTWyEbDPooRtnTKcecH7gR9a5J7lQhmswDFV8irpTeCxRKCClqyxbmeUNck1jR1pOpcz1s0FlJPC4fuZZVP5KMgzJPFjyIfZF/rLiQAiWYNKndtSkGx1GyZ5PcwWBovcy3TFCUnMY/IIa/xLobrEYjrnVLGcV/QQqVVTtr02kWb9SwHrbhEiClOa8h/GmZ/Osrl+3d+qgev4Jt8RZMwF7igj3EyDrHR243i+60d/IkKZCEXg8uwulJxL2aucy4GapojSmMqO+lC5JdsGgkxFszI50hoZmW6ARS4NcowQ2WM5jK2sBLhkz7vywTiQakLt9nZeLCZ+3Zz1I=
  - secure: J35UAmUkw2+wdGm28WN0BuCtSi51A+CEAw9yi7rkJ0R3gIVTYs/hRqFbj6SQ9CFO3we1wP3R7121hlPVlUVlTrPc4n7Mm6R1lDJOcK9X6aQBoGj23VgCNfb49T3aCP6KWUHqisbEH5jeoxeoA1KidathoVZZ8ZZ+kPuYbbLfByBRv2Q438PkPC40p0yKdrVFfBbvtf5yrWCzz8sCxkoHIIqWv5O868CyYp+jkEyHmSSuxj1v7wBh6Cf5pZPSWQ/tI0cWnIj+S5vc2L4wr+6kUkvfLhpdsDdS/eIkurdtKEnqGlSKAInH8p7vNn9DOd6vlk2F1I+edRkQ/jDZVLGcdc9OqJumnMBiAnvx0gW1HSNZJMaqEnob+CnLzrusp6rlt5soWqADIf63wNsVMVqH++sDm3Yg48sa/43NXG18ltETJeqUx4AMlOrgWLNjg0RuaYiMrm+ios/gcC0CTRe8sb3ESoygI2ZoJS6KVoNkD59UxKXh761CzdSO3hqjawt2G2pO8tqQz5AWFg1N1DnTJlvBDtRyRNYYa8JnoXsC9ypi4/HjMzrAnAziJe0gDRDE02rFILShgdugIfMGOlSHlUNdbWNtzNUcyYkO7R87k+E7XywrT/ZLc8a7w3OJifNx+ofDIwEmHRCHO2SdziejKkSuyy5iG6XT41qse0hzBT8=
  - secure: l7QBsIn0MQ+kxv2/jPlQYuApsw5kx+HBVNtPPNqlAksnukWokJVMCFUOxjWuw9tt6RiUhRMSAz67VwH3ikLtXTGn0q5YLGxS7vgIoxDlSRtOqlGUgv4rpMWWN8YKM8MXXLvvyyyMzOMfmkBOa/zY8tGUO2VXGChN1U9XMrCguKw66GZNd7+1OMxzJj+EtWeirvMhOc2kIjQZgfEYCLcTBT+VqE5qwGOEr9adYjUXjyNgqpu7cwTAuODKrsqJjK9Ts0QvbY6CDKXFR/KMPEqOKYh3QP0cbj1oJ6gi6qrlhjeTxzHDthQ+tXqOriiiYxSChaZKasZBtOKPS64rYCQo1s6peLMitQre1xxHfpQlqOvfxdKwwoDgbnFPzaIMW0/rFD66ugJJ/8Bzo5/PqUwZQ93EWMhAOahMQHroya6y+MCrgyJxFoQh80JQvPk7yexbo2nTCEH3Ujn1Bxj9sDOBxkNetMeozIjgsxGQm3YJ6ehkaLwxYFvr48X8oqDUYRjAtZQIDX9aO2jqTHRAyALE00bSvOuSnnqkgBDV77Czb9CT7w6mNcyAQUA8RjArNyQIyxjYRfYGrdAOJbiwbBWqiJdINq6JIyRX+gmBj2AbwVYrCBblJDBsIMEN2Ulbkp2Fr7IQcIuCMGsSOLATYV0WtQL/4g7t/l+yR+6JplLUXYw=
  - secure: Qm8V9anrTLPOWJBpz9rDODdX/DsscQNSWC7Qj2dbmk/34YIznPZTfxmlFt1+79LYf5OBjzIo7wSvccq93wXUmHgQyzCqsSvasCFVdhuRKfcepayzps+hBkw0ZGqPZO6MwKvHN/SZFI9urWG4nlJL/RKaKYO+LTnQaKgMBEHkZZ3vtzrAaxvwebBzFCG0MU/EbUDwDarnLtXvSzDOHZXXGgUyFnczIt1IpD3XmJA5QexppNJtwrnf3ytmJ4tSo6RPC2Huzw/rfQCnbxG56bAaJRni4m6z4SnQ1Z9PDX1hj5nqrcR5bPFyiPEFWI8H64Ci8rlQnU36Oh2mVTAQwvVtax74E9MElRwHpUKt/m4WP+32OoSmjHs15io05dOOKTUzvlK8BeNaWPgwnZnjWApSPQqu6TVoV7EQx33WRRe01pISazKjLFClLca1ixnTz+S9driEQPiEB608DFjHxf1wpmHn3H9KGxdb5HbI7OKbCoSt8bKNJcQ9UaRsV7AvT8ib+pF9zHfcJsr8XMQBaTwQ4NNq7UdBJKdG6pZZq8nsjl94KENbGNVSyMEhjIR7SLLWjMYcrq4eWRNTOrGIdpj5lduyUfwizeNJ5GCoKxdkMbdRAW0rhhxgKJ+q2/lRMK+MJhHi97iPkA3VLTz+XW/r74ZrRivkH7MS6JHebiAs9zU=
  - secure: hGEY1/zv3FOQn6dOU4WmDTeaWcEStKV3ATcfC014lpZStm5m7ic8YuptqTo8S2152yFm3Ylr+lrTjy7N0HODrWgGvwi113eh+uSTHsN9Voehwk13u1Zuvd/oe98psHcGkMXYyOS63i4OZXWmyCbPpMQ6OTpDqXmejkz/kjg+TWrvQrBi4+47efFXj21UtLgYi0zRz/ZvTqp7YWQm0C3dYKsahgj6Fj4l3pr4qV0AXkXRdFACR4pPZh/7NmzchHPStkvcZXTDNbDx7K9Md9ufugtYH7Cq919ErHkkw34dVFCQCPG4+YkSiIDHaJjpHROBJtJHKeQEj9hfPHh+IHW3azOKeKr3Q2G+YBKJCr47VPgCdn4a/8PbtqFAEno3OCXIU5Ut/Zx1fsRyMhviJbY1G3F2v9TAx+pNFdgkTvONXlpPLGsF8eYLgQ0A9oMSGczJu2J6Dkj3XS9tIY+S7zjAnoyjKKg10mwsOc/5wi1jaFY0H5r6XMmMfKteWuXKHAiXLE3pZE2WYHrWNkyMYX63IY8nA0qXT+HKhqva+gUaI19vZZhBY07FAFIiHoeIWpviMUiTpdFDSasPZDHbPuiSTc8BZK6FdLR1AgiNPz6BLLLPaL8tXg9fY/Q5i/QZYzPbzjMziHJnm1R5teh0fN/LkYMUxFmph0wAGoycOb3ynX8=
